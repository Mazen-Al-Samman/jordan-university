<html>
<head>
    <meta charset="utf-8">
    <title>University Guider</title>
    <script src="../js/jquery.js"></script>
    <script src="../js/bootstrap.js"></script>
    <link rel="stylesheet" href="../css/bootstrap.css">
    <link rel="stylesheet" href="../css/index.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">
</head>
<body>

<!--Start NAVBAR-->
<nav class="navbar navbar-expand-lg navbar-light bg-light font-poppins-400">
    <a class="navbar-brand" href="#">University Guider</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarText">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
                <a class="nav-link" href="#home">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#jordan-uni">Jordan universities</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#about">About us</a>
            </li>
        </ul>
        <span class="navbar-text">
      Follow us to get the latest news about jordanian universities.
    </span>
    </div>
</nav>
<div>
    <div class="main-img-cont">
        <div class="main-img">
            <h1 class="position-absolute font-lobster text-right text p-3 text-light"><span class="text-warning study-text">Your study</span> is our most important <br><span class="text-warning study-text">Mission</span></h1>
        </div>
    </div>
</div>
<!--End NAVBAR-->

<!--Main content-->
<div class="container" id="home">
    <div class="row d-flex justify-content-center">
        <div class="col-md-12 text-center">
            <h1 class="font-cairo mt-4 text-dark">الرئيسية</h1>
        </div>
        <br>
        <div class="break-line"></div>
        <div class="col-md-8 text-center font-cairo mt-4" dir="rtl">
            <p class="line">
                المرحلة الأصعب في حياة كل طالب هي إختيار التخصص الذي يتناسب مع قدراته, معدله وسوق العمل الأردني
                <br>
                لذلك نقوم نحن كـ فريق
                <span class="text-info underline">University Guider </span>
                بمساعدتك لتختار التخصص المناسب لك وفي الجامعة التي ترغب بها.
            </p>
            <button class="btn btn-dark mt-3">سجل الان</button>
        </div>
    </div>
</div>
<!--End Main content-->

<!--Back button-->
<div class="d-flex justify-content-center mt-5 mb-3">
    <img class="effect" id="back" src="https://img.icons8.com/wired/64/000000/circled-left-2.png"/>
</div>
<!--End Back button-->

<div id="jordan-uni">
    <div class="container-fluid text-center mt-5" id="main-content">
        <!--Universities contents.-->
    </div>

    <div class="container-fluid text-center mt-5" id="college-section">
        <!-- Colleges content -->
    </div>

    <div class="container-fluid text-center mt-5" id="major-section">
        <!-- Colleges content -->
    </div>
</div>

<footer id="about">
    <div class="footer font-cairo">
        <div class="footer_about"></div>
        <div class="footer_main text-center">
            <h3>من نحن ؟</h3>
            <p class="mt-3">فريق من شباب وشابات جامعة الزرقاء, قمنا بإنشاء هذا المشروع لمساعدة طلبة الثانوية العامة في اختبار التخصص المتناسب مع معدلاتهم ورغباتهم</p>
        </div>
        <div class="footer_right"></div>
    </div>
    <div class="copyright font-poppins-400">
        Copyright © 2021 All Rights Reserved by University Guider.
    </div>
</footer>

</body>
</html>
<script src="../js/data.js"></script>
<script>
    let current_page = 'main';
    $('document').ready(function(){
        $('#college-section').hide();
        $('#major-section').hide();
        $('#back').hide();
        let html_code = `
            <div class="row">
                <div class="col-md-1"></div>
                <div class="col-md-10">
                    <div class="shadow-lg p-3 mb-5 bg-white rounded font-cairo">
                    <h2>الجامعات الأردنية</h2>
                    <hr>
                    <div class="row d-flex justify-content-center p-5" id="universities">
            `;
        for (let i = 0; i < uni_data.length; i++) {
            let name = uni_data[i]['name'];
            let img = uni_data[i]['img'];
            let click = uni_data[i]['clicked'];

            html_code += `
                <div data-click-uni="${click}" data-click-name="${name}" class="col-12 col-lg-3 col-sm-12 ml-4 shadow p-3 mb-5 bg-white rounded effect uni-box">
                    <h2 data-click-uni="${click}" data-click-name="${name}" class="font-cairo">${name}</h2>
                    <img data-click-uni="${click}" data-click-name="${name}" width="100" height="100" src="../img/${img}" class="img-fluid mt-3" alt="">
                </div>
            `;
        }

        html_code += `
                    </div>
                </div>
            </div>
        </div>
        `;
        $('#main-content').append(html_code);
    });

    $('body').on('click', '.uni-box', function(e){
        $('#back').fadeIn('100');
        current_page = 'college';
        $('#major-section').hide();
        let clicked_uni = e.target.getAttribute("data-click-uni");
        let clicked_uni_name = e.target.getAttribute("data-click-name");
        $('#main-content').fadeOut(250);
        let col = collages.get(clicked_uni);
        let html_code = `
        <div class="row">
            <div class="col-md-1"></div>
            <div class="col-md-10">
                <div class="shadow-lg p-3 mb-5 bg-white rounded font-cairo" id="uni-collages">
                <h2>${clicked_uni_name}</h2>
                <hr>
                <div class="row d-flex justify-content-center p-5" id="collages">
        `;
        for (let i = 0; i < col.length; i++){
            let name = col[i]['name'];
            let click = col[i]['click'];
            html_code += `
                <div data-click-coll="${click}" data-clicked-uni="${clicked_uni}" data-uni-name="${clicked_uni_name}" class="col-12 col-lg-3 col-sm-12 ml-4 shadow p-3 mb-5 bg-white rounded effect collage-click">
                    <h2 data-click-coll="${click}" data-clicked-uni="${clicked_uni}" data-uni-name="${clicked_uni_name}" class="font-cairo">${name}</h2>
                </div>
            `;
            $('#collages').append(html_code);
        }
        html_code += `
                    </div>
                </div>
            </div>
        </div>
        `;
        $('#college-section').html(html_code)
        $('#college-section').fadeIn(250);
    });

    $('body').on('click', '.collage-click', function(e){
        $('#back').fadeIn('100');
        current_page = 'major';
        let col_name = e.target.getAttribute('data-click-coll');
        let uni_slug = e.target.getAttribute('data-clicked-uni');
        let uni_name = e.target.getAttribute('data-uni-name');
        let col_info = collages.get(uni_slug);
        let coll = [];
        for (let i = 0; i < col_info.length; i++){
            if (col_info[i]['click'] == col_name) {
                coll = col_info[i];
                break;
            }
        }
        let majors = coll.majors;

        let html_code = `
            <div class="row">
                <div class="col-md-1"></div>
                <div class="col-md-10">
                    <div class="shadow-lg p-3 mb-5 bg-white rounded font-cairo">
                    <h2>${uni_name} - ${coll['name']}</h2>
                    <hr>
                    <div class="row d-flex justify-content-center p-5" id="universities">
            `;
        for (let i = 0; i < majors.length; i++) {
            let name = majors[i]['name'];
            let price = majors[i]['price'];

            html_code += `
                <div class="col-12 col-lg-3 col-sm-12 ml-4 shadow p-3 mb-5 bg-white rounded effect cursor">
                    <h2 class="font-cairo">${name}</h2>
                    <p class="font-cairo">${price} JOD</p>
                </div>
            `;
        }

        html_code += `
                    </div>
                </div>
            </div>
        </div>
        `;

        $('#major-section').html(html_code);
        $('#college-section').hide();
        $('#major-section').fadeIn(250);
    });

    $('#back').on('click', function(){
        console.log(current_page);
        if (current_page == 'college') {
            current_page = 'main';
            $('#college-section').hide();
            $('#major-section').hide();
            $('#main-content').fadeIn(250);
            $('#back').hide();
        } else if (current_page == 'major') {
            current_page = 'college';
            $('#college-section').fadeIn(250);
            $('#major-section').hide();
            $('#main-content').hide();
            $('#back').fadeIn('100');
        }
    });
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();

            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });
</script>